
:<!DOCTYPE html>
<html>
<head>
    <script src="https://unpkg.com/jspsych@7.3.4"></script>
    <link href="https://unpkg.com/jspsych@7.3.4/css/jspsych.css" rel="stylesheet"
type="text/css" />
<script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.2.0"></script>
     <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe"></script>
    <script src="https://unpkg.com/@jspsych.org/v7/plugins/html-keyboard-response/"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.2.0"></script>



<title>My Experiment</title>
</head>
<body>
</body>
<script>
const jsPsych = initJsPsych(override_safe_mode=true);

var trial = {

        timeline:[
            {    
        type: jsPsychHtmlKeyboardResponse,
        stimulus: 'Press any key to begin'},
        {type: jsPsychHtmlButtonResponse,
         stimulus: function(){
                var html = `
                    ${jsPsych.timelineVariable('name')}`;
                return html;
            },
          choices: ['Match', 'Does not  match'],
          prompt: "<p>What color is the ink?</p>"}],

    timeline_variables:[
    {name: '<p style="font-size:48px; color:red;">GREEN</p>'},
    {name: '<p style="font-size:48px; color:blue;">GREEN</p>'},
    {name: '<p style="font-size:48px; color:green;">GREEN</p>'},
    {name: '<p style="font-size:48px; color:red;">RED</p>'},
    {name: '<p style="font-size:48px; color:blue;">RED</p>'},
    {name: '<p style="font-size:48px; color:green;">RED</p>'},
    {name: '<p style="font-size:48px; color:red;">BLUE</p>'},
    {name: '<p style="font-size:48px; color:blue;">BLUE</p>'},
    {name: '<p style="font-size:48px; color:green;">BLUE</p>'}],


    sample: {
        type: 'fixed-repetitions',
        size: 2
    }

};

const save_data = {
                type: jsPsychPipe,
                action: "save",
                experiment_id: "CNoNI8MkMUr2",
                filename: "Walkertest.csv",
                data_string: ()=>jsPsych.data.get().csv(),
                on_finish: function(data){alert(data.result.message)}

              };
const end_trial = {
type: jsPsychHtmlKeyboardResponse,
stimulus: 'Nothing left to do here.'
};
jsPsych.run([trial,save_data]);


    </script>

</html>
